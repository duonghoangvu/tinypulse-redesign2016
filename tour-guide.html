<!DOCTYPE html>
<head>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/tour-guide.css" />
  <meta name="viewport" content="maximum-scale=1,width=device-width,initial-scale=1,user-scalable=0"> 
</head>
<body class="nav-panel-opened">
  <div class="main-wrapper">
    <header>
      <div class="container">
        <div class="logo">
          <img src="https://www.tinypulse.com/hubfs/redesign_2016/engage_logo.png" />
        </div>
        <div class="content">
          <p>Free feel to explore your prefilled TINYpulse Dashboard. When you're ready click continue to clear data and start pulsing.</p>
          <a href="http://app.tinypulse.com/engage/signup">Start using TINYpulse - Engage</a>
        </div>        
      </div>
    </header> 
    <div class="content-wrapper">
      <nav>
        <ul class="nav" id="side-menu">
          <li class="active" title="" data-toggle="tooltip" data-original-title="Insights">
            <a href="/redesign-2016-tour-guide-overview-zaqwsxcderfv" data-active-key="insights" class='viewed'>
              <i class="icon-gause"></i> <span class="nav-label">Insights</span>
              <p class="tooltip">Lorem ipsum dolor sit amet.</p>
            </a>
          </li>
        
          <li title="" data-toggle="tooltip" data-original-title="Manage Pulses">
            <a href="/redesign-2016-tour-guide-managepulse-zaqwsxcderfv" data-active-key="manage-pulses">
              <i class="icon-pulse"></i> <span class="nav-label">Manage Pulses</span>
              <p class="tooltip">Lorem ipsum dolor sit amet.</p>
            </a>
          </li>
        
          <li title="" data-toggle="tooltip" data-original-title="Share">
            <a href="/redesign-2016-tour-guide-sharing-zaqwsxcderfv" data-active-key="sharing">
              <i class="icon-share"></i> <span class="nav-label">Share</span>
              <p class="tooltip">Lorem ipsum dolor sit amet.</p>
            </a>
          </li>
        
          <li title="" data-toggle="tooltip" data-original-title="Manage Users">
            <a href="/redesign-2016-tour-guide-users-zaqwsxcderfv" data-active-key="users">
              <i class="icon-users"></i> <span class="nav-label">Manage Users</span>
              <p class="tooltip">Lorem ipsum dolor sit amet.</p>
            </a>
          </li>
        
          <li title="" data-toggle="tooltip" data-original-title="Settings">
            <a href="/redesign-2016-tour-guide-settings-zaqwsxcderfv" data-active-key="settings">
              <i class="icon-setting"></i> <span class="nav-label">Settings</span>
              <p class="tooltip">Lorem ipsum dolor sit amet.</p>
            </a>
          </li>
        </ul>
      </nav>
      <div class="main-content">
        <div class="vertical-menu" id="vertical-menu">
          <a class="overview viewed active" href="#overview" target="">
            <span>Overview</span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
          </a>
          <a class="responses" href="#responses" target="">
            <span>Responses</span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p>
          </a>
          <a class="cheers-for-peers" href="#cheers" target="">
            <span>Cheers for Peers</span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p>
          </a>
          <a class="suggestions" href="#suggestions" target="">
            <span>Suggestions</span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p>
          </a>
          <a class="compare" href="#compare" target="">
            <span>Compare</span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p>
          </a>
          <a class="company-iq" href="#visualize" target="">
            <span>Visualize<span class="supper">Beta</span></span>
            <p class="tooltip">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p>
          </a>
        </div>
        <div class="content overview active">
          <div class="block">
            <div class="container content-1">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/overview-1.png" />   
              <div class="tooltip">Review all the kudos given amongst your teams</div>                    
            </div>
          </div>
          <div class="block">
            <div class="container content-2">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/overview-2.png" />     
              <div class="tooltip">Review all the kudos given amongst your teams</div>         
            </div>
            <div class="container content-3">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/overview-3.png" />    
              <div class="tooltip">Check out the top responses from your employees</div>                   
            </div>
          </div>
          <div class="block">
            <div class="container content-4">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/overview-4.png" />    
              <div class="tooltip">Review all the kudos given amongst your teams</div>                 
            </div>
          </div>
          <div class="block">
            <div class="container content-5">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/overview-5.png" />              
              <div class="tooltip">Review all the kudos given amongst your teams</div>         
            </div>
          </div>
        </div>
        <div class="content responses non-interactive">
          <div class="block">
            <div class="container">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/responses.png" />
                <div class="tooltip">Want to explore these cool features? Click on the link at the bottom right to Sign Up for free and create your own Dashboard.</div>
            </div>          
          </div>
        </div>
        <div class="content cheers">
          <div class="content-left">
            <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/cheer-1.png" />
            <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/cheer-3.png" />
            <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/cheer-5.png" />
          </div>
          <div class="content-right">
            <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/cheer-2.png" />
          </div>
        </div>
        <div class="content suggestions non-interactive">
          <div class="block">
            <div class="container">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/suggestions.png" />          
            </div>
          </div>
        </div>
        <div class="content compare non-interactive">
          <div class="block">
            <div class="container">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/compare-1.png" />
            </div>
          </div>
        </div>
        <div class="content visualize non-interactive">
          <div class="block">
            <div class="container">
              <img src="https://www.tinypulse.com/hubfs/redesign_2016/tour-guide/smartpulse.png" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="nav-panel" id="nav-panel">
    <a href="#" class="nav-panel-trigger" id="nav-panel-trigger">Introduction to TINYpulse</a>
    <ul>
      <li class="active"><a href="#overview"><span class="no"><i>1</i><i class="fa fa-check" aria-hidden="true"></i></span><span>Overview</span><p>Summary of your employee's responses, cheers and feedback of the chosen pulse.<span>Hover over <i>Info Icon</i> to find out more.</span></p></a></li>
      <li class=""><a href="#cheers"><span class="no"><i>2</i><i class="fa fa-check" aria-hidden="true"></i></span><span>Cheers for Peers</span><p>Summary of your employee's responses, cheers and feedback of the chosen pulse.</p></a></li>
      <li><a href="#suggestions"><span class="no"><i>3</i><i class="fa fa-check" aria-hidden="true"></i></span><span>Suggestions</span><p>Summary of your employee's responses, cheers and feedback of the chosen pulse.</p></a></li>
      <li><a href="#compare"><span class="no"><i>4</i><i class="fa fa-check" aria-hidden="true"></i></span><span>Happiness Trend</span><p>Summary of your employee's responses, cheers and feedback of the chosen pulse.</p></a></li>
      <li><a href="#visualize"><span class="no"><i>5</i><i class="fa fa-check" aria-hidden="true"></i></span><span>SMARTpulse</span><p>Summary of your employee's responses, cheers and feedback of the chosen pulse.</p></a></li>
    </ul>
    <a href="#" class="exit-tour">Exit tour</a>
    <a href="#" class="next-step" id="next-content">Next</a>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="js/global.js"></script>
  <script type="text/javascript">
    $(document).ready(function(e){
      var setViewedContent = function(content){
        var viewedContents = '';
        if (localStorage.getItem('viewed-content')){
          viewedContents = localStorage.getItem('viewed-content');
          if (viewedContents.split(';').indexOf(content) < 0) {
            viewedContents += content + ';';
          }
        } else {
          viewedContents += content + ';';
        }
        localStorage.setItem('viewed-content', viewedContents);
      },
      loadViewContents = function(){
        var viewedContents = localStorage.getItem('viewed-content');
        if (viewedContents !== null){
          viewedContents = viewedContents.split(';');
          $.each(viewedContents, function(i, content){
            if (content !== ''){
              $('.vertical-menu a[href="#' + content + '"]').addClass('viewed');
              $('nav ul li a[data-active-key="' + content + '"]').addClass('viewed');
            }
          });
        }
      },
      initVerticalViewed = function() {
        viewedContents =  $('#vertical-menu').find('a.viewed');
         $.each(viewedContents, function(i, viewed){
           content = $(viewed).attr('href').replace('#', '');
           setViewedContent(content);
         });
      };
      initNavViewed = function() {
        viewedContents =  $('nav ul li').find('a.viewed');
         $.each(viewedContents, function(i, viewed){
           content = $(viewed).attr('data-active-key');
           setViewedContent(content);
         });
      };
      loadViewContents();
      initNavViewed();
      initVerticalViewed();
      $('#nav-panel-trigger').on('click', function(e){
        e.preventDefault();
        $('body').toggleClass('nav-panel-opened');
      });

      $('#vertical-menu').find('a').on('click', function(e){
        e.preventDefault();
        var content = $(this).attr('href').replace('#', '');
        if (content !== ''){
          $('#vertical-menu').find('a').removeClass('active');
          $(this).addClass('active viewed');
          setViewedContent(content);
          $('#nav-panel').find('li.active').addClass('passed').removeClass('active');

          var navItem = $('#nav-panel').find('a[href="#' + content + '"]');
          navItem.parent().addClass('active');
          var contentDom = $('.content.' + content);
          $('.main-content').find('.content').removeClass('active');
          contentDom.addClass('active'); 
        }
      });

      $('nav ul li').find('a').on('click', function(e){
        var content = $(this).attr('data-active-key');
        if (content !== ''){
          setViewedContent(content);
        }
      });

      $('.non-interactive').find('img').on('click', function(){
        var self = $(this);
        if (!self.hasClass('clicked')){
          self.closest('.container').addClass('clicked');        
          window.setTimeout(function(){
            $('.non-interactive').find('.container').removeClass('clicked');
          }, 5000);
        } 
      });

      $('#next-content').on('click', function(e){
        e.preventDefault();
        if ($('#nav-panel').find('.active').next().length > 0){
          var content = $('#nav-panel').find('.active').next().find('a').attr('href').replace('#','');
          $('#nav-panel').find('.active').removeClass('active').addClass('passed').next().addClass('active');
          $('#vertical-menu').find('a[href="#' + content + '"]').trigger('click');
        }
      });
    });
  </script>
</body>
